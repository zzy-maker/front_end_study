<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      a {
        color: #00bc9b;
      }
    </style>
  </head>
  <body>
    <!--
    描述
    页面中存在id=jsContainer的DOM元素。
    该DOM元素内会给出一段随机文本，可能包含一些链接，比如https://www.baidu.com，或者 www.baidu.com?from=onlineExam，如果出现链接文本，请给该链接文本加上链接标签，用户点击后能直接在新窗口中打开该链接。
    请完成 link 函数，完成该功能
    1、container只有纯文本内容，不包含其他dom元素
    2、识别所有以http://、https://或者www.开始的链接
    3、所有www.开头的链接，默认使用 http 协议
    4、所有链接在新窗口打开
  -->
    <div id="jsContainer">
      这里会给出一段随机文本，可能包含一些链接，比如https://www.baidu.com，或者
      www.baidu.com?from=onlineExam，如果出现链接文本，请给该链接文本加上链接标签，用户点击后能直接在新窗口中打开该链接。
    </div>
    <script>
      function link() {
        let context = document.getElementById('jsContainer')
        let reg = /(https?:\/\/)?(www\.\w+(\.(com|cn))*([?]\w+=\w*(&\w+=\w*)*)?(#\w+)?)/g
        context.innerHTML = context.innerHTML.replace(reg, function(...args) {
          console.log(args);
          if(args[1]) {
            return `<a target="_blank" href="${args[1]}${args[2]}">${args[0]}</a>`
          } else {
            return `<a target="_blank" href="http://${args[2]}">${args[0]}</a>`
          }
        })
      }
      link()
    </script>
  </body>
</html>
